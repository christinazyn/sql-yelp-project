<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ul.lst-kix_269eetnokupi-8{list-style-type:none}.lst-kix_269eetnokupi-0>li:before{content:"\0025cf   "}.lst-kix_269eetnokupi-1>li:before{content:"\0025cb   "}ul.lst-kix_269eetnokupi-6{list-style-type:none}ul.lst-kix_269eetnokupi-7{list-style-type:none}ul.lst-kix_269eetnokupi-0{list-style-type:none}ul.lst-kix_269eetnokupi-1{list-style-type:none}.lst-kix_269eetnokupi-4>li:before{content:"\0025cb   "}ul.lst-kix_269eetnokupi-4{list-style-type:none}.lst-kix_269eetnokupi-2>li:before{content:"\0025a0   "}.lst-kix_269eetnokupi-3>li:before{content:"\0025cf   "}ul.lst-kix_269eetnokupi-5{list-style-type:none}ul.lst-kix_269eetnokupi-2{list-style-type:none}ul.lst-kix_269eetnokupi-3{list-style-type:none}.lst-kix_269eetnokupi-8>li:before{content:"\0025a0   "}.lst-kix_269eetnokupi-5>li:before{content:"\0025a0   "}.lst-kix_269eetnokupi-6>li:before{content:"\0025cf   "}.lst-kix_269eetnokupi-7>li:before{content:"\0025cb   "}ol{margin:0;padding:0}table td,table th{padding:0}.c23{border-right-style:solid;padding-top:0pt;border-top-width:0pt;border-right-width:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.5;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;border-bottom-style:solid;orphans:2;widows:2;text-align:left;padding-right:0pt}.c3{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:156pt;border-top-color:#000000;border-bottom-style:solid}.c7{border-right-style:solid;padding:1pt 1pt 5pt 1pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:bottom;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:234pt;border-top-color:#000000;border-bottom-style:solid}.c11{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:234pt;border-top-color:#000000;border-bottom-style:solid}.c10{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c24{padding-top:10pt;padding-bottom:10pt;line-height:1.5;orphans:2;widows:2;text-align:left}.c0{padding-top:10pt;padding-bottom:10pt;line-height:1.5;orphans:2;widows:2;text-align:center}.c5{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c13{color:#000000;text-decoration:none;vertical-align:baseline;font-size:10pt;font-style:normal}.c4{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c6{color:#000000;text-decoration:none;vertical-align:baseline;font-size:12pt;font-style:normal}.c16{border-spacing:0;border-collapse:collapse;margin-right:auto}.c19{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c9{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c21{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c18{font-family:"Times New Roman";font-weight:700}.c1{font-weight:400;font-family:"Times New Roman"}.c20{font-weight:400;font-family:"Arial"}.c22{width:33%;height:1px}.c12{font-size:12pt}.c8{height:11pt}.c17{height:25pt}.c14{text-indent:36pt}.c15{font-size:10pt}.c2{height:0pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c21 doc-content"><p class="c0"><span class="c6 c18">Yelp Project Report</span></p><p class="c0"><span class="c1 c12">Yanni Zhang</span></p>

<img src="./assets/insights-visualization.jpg" alt="infographic">
    
<p class="c24 c14"><span class="c1 c12">Yelp, an online platform for consumers to share their experiences with businesses, has been one of the most widely used business review applications since its launch in 2004. Users rely on Yelp to make informed decisions about where to eat, shop, or entertain. Engaging with local businesses, Yelp has become a valuable source of information for both consumers and businesses. To gain insights from Yelp&rsquo;s vast collection of user-generated data, I have obtained a subset of the Yelp dataset and plan to conduct a thorough analysis to study consumer behavior, preferences, and trends. I hope this could inform and improve Yelp&rsquo;s user acquisition strategy. </span></p><p class="c14 c23"><span class="c1 c12">As a starting point, it is important to establish some summary statistics about the dataset</span><span class="c1 c12">. The data I am working with covers the period from 2005 to 2017, with a primary concentration of businesses in several locations, including Las Vegas, Phoenix, and Toronto.</span><sup class="c1 c12"><a href="#ftnt1" id="ftnt_ref1">[1]</a></sup><span class="c1 c12">&nbsp;In the dataset, I have identified 28,450 distinct businesses, 13,261 distinct users, and 48,862 distinct reviews. </span><span class="c1 c12">On average, each business has around 1.7 reviews, with the highest receiving 77 reviews and the lowest receiving just one. I also found 4,743 active users who have posted at least one review in the past year, that is, in 2017.</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 340.50px; height: 194.42px;"><img alt="" src="./assets/image1.png" style="width: 348.54px; height: 200.94px; margin-left: -3.85px; margin-top: -3.36px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c24 c14"><span class="c1 c12">My</span><span class="c1 c12">&nbsp;analysis then looks at Yelp&rsquo;s user growth by examining the number of new users in each year.</span><span class="c1 c12">&nbsp;It can be found that Yelp has experienced increasing user growth since 2005, &nbsp;peaking in 2014 and 2015 when Yelp attracted nearly 2,000 new users each year. </span><span class="c1 c12">Despite the declining trend in new user growth in the last 3 years, the number of reviews on Yelp continues to surge each year, indicating a highly active and engaged existing user base. For instance, in 2006, Yelp had only 40 reviews, but by 2017, it received a staggering 11,036 reviews in total.</span><sup class="c1 c12"><a href="#ftnt2" id="ftnt_ref2">[2]</a></sup></p><p class="c14 c24"><span class="c1 c12">To unravel the driving force behind the first reviews by each user, I begin by filtering the dataset to obtain the 15,934 first reviews and subsequently search for commonalities among them. My findings indicate that exceptional businesses, both positively and negatively, tend to elicit commentary from customers. Specifically, out of the 15,934 first reviews, over 8,000 are 5-star reviews, while almost 3,000 are 1-star reviews.</span><sup class="c1 c12"><a href="#ftnt3" id="ftnt_ref3">[3]</a></sup><span class="c1 c12">&nbsp;I then delved into the business categories of the first reviews. As each business id may belong to multiple categories, I utilized a visually-appealing word cloud to showcase the most commonly mentioned categories.</span><sup class="c1 c12"><a href="#ftnt4" id="ftnt_ref4">[4]</a></sup><span class="c1 c12">&nbsp;My analysis revealed that users predominantly write their first reviews for businesses in the restaurant, bar, beauty and spas, and shopping sectors, among others. This suggests that the service industry is likely to receive more feedback from customers.</span><sup class="c1 c12"><a href="#ftnt5" id="ftnt_ref5">[5]</a></sup><span class="c1 c12">&nbsp;I also count the number of businesses by the number of first reviews they have received, and I noticed that o</span><span class="c6 c1">nly a few restaurants have a relatively large number of first reviews. Most businesses have received less than 10 first reviews, while the business with the most first reviews has received more than 40. Therefore, I can conclude that the distribution of first reviews among businesses is heavily skewed to the right.</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 319.50px; height: 179.66px;"><img alt="" src="./assets/image2.png" style="width: 319.50px; height: 179.66px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c23 c14"><span class="c1 c12">Above all, I have identified several key insights that can inform Yelp&rsquo;s business strategy. Firstly, I find that exceptional businesses tend to elicit commentary from customers, which presents an opportunity for Yelp to encourage more users to share their experiences by offering incentives or rewards for writing a review. Additionally, my analysis shows that users predominantly write their first reviews for businesses in the restaurant, bar, beauty and spas, and shopping sectors. Yelp can focus on these industries and create targeted campaigns to attract more users and reviews from these sectors. Moreover, Yelp can leverage data insights to improve its recommendation engine and provide more personalized recommendations to users, thereby promoting a thriving online community. By implementing these strategies, Yelp can enhance user experience and attract more new users, ultimately leading to sustainable growth for the platform.</span><hr style="page-break-before:always;display:none;"></p><p class="c5"><span class="c6 c18">Appendix 1. Tables</span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c6 c1">Table 1. Top five cities with the highest number of businesses</span></p><a id="t.c71a603dd4db158f50b4facebbb3f710c2a7492e"></a><a id="t.0"></a><table class="c16"><tr class="c2"><td class="c11" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">City</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">Number of Business</span></p></td></tr><tr class="c2"><td class="c11" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">Las Vegas</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">6120</span></p></td></tr><tr class="c2"><td class="c11" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">Phoenix</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">3044</span></p></td></tr><tr class="c2"><td class="c11" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">Toronto</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">2565</span></p></td></tr><tr class="c2"><td class="c11" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">Scottsdale</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">1595</span></p></td></tr><tr class="c2"><td class="c11" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">Charlotte</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">1310</span></p></td></tr></table><p class="c5 c8 c14"><span class="c6 c1"></span></p><p class="c5 c8"><span class="c6 c1"></span></p><p class="c5"><span class="c6 c1">Table 2. Number of new users and reviews in each year</span></p><a id="t.5e0ea4e757bd88c5776edd1410e4660a6d9acdcf"></a><a id="t.1"></a><table class="c16"><tr class="c2"><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">Year</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">Number of New Users</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">Number of Reviews</span></p></td></tr><tr class="c2"><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">2005</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c1 c6">13</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">/</span></p></td></tr><tr class="c2"><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">2006</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">75</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">40</span></p></td></tr><tr class="c2"><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">2007</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">164</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">139</span></p></td></tr><tr class="c2"><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">2008</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">299</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">483</span></p></td></tr><tr class="c2"><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">2009</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">636</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">661</span></p></td></tr><tr class="c2"><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">2010</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">999</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">1400</span></p></td></tr><tr class="c2"><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">2011</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">1490</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">2462</span></p></td></tr><tr class="c2"><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">2012</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">1591</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">3002</span></p></td></tr><tr class="c2"><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">2013</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">1792</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">4223</span></p></td></tr><tr class="c2"><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">2014</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">1995</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">6106</span></p></td></tr><tr class="c2"><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">2015</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">1963</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">8878</span></p></td></tr><tr class="c2"><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">2016</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">1432</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">10432</span></p></td></tr><tr class="c2"><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">2017</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">812</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">11036</span></p></td></tr></table><p class="c5 c8"><span class="c6 c1"></span></p><p class="c5"><span class="c6 c1">Table 3. Number of first reviews according to the number of stars awarded</span></p><a id="t.7f9f6288b38b9666949cf2d37ef8e11cdee3e482"></a><a id="t.2"></a><table class="c16"><tr class="c17"><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">Stars</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">Number of First Review</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">Average Business Stars</span></p></td></tr><tr class="c2"><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">1</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">2969</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">2.98</span></p></td></tr><tr class="c2"><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">2</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">1212</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">3.39</span></p></td></tr><tr class="c2"><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">3</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">1175</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">3.57</span></p></td></tr><tr class="c2"><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">4</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">2514</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">3.76</span></p></td></tr><tr class="c2"><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">5</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">8064</span></p></td><td class="c3" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">4.12</span></p></td></tr></table><p class="c5 c8"><span class="c6 c1"></span></p><p class="c5 c8"><span class="c6 c1"></span></p><p class="c5"><span class="c6 c1">Table 4. Top 30 business categories for business receiving first reviews</span></p><a id="t.c430008531bd2e4fc9d87362a8ef73f4783653ee"></a><a id="t.3"></a><table class="c16"><tr class="c2"><td class="c11" colspan="1" rowspan="1"><p class="c19"><span class="c6 c1">Business Categories</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c19"><span class="c6 c1">Frequency</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Restaurants</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;5997</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Food</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;1895</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Nightlife</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;1695</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Bars</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;1566</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Beauty &amp; Spas</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;1015</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Shopping</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;982</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;American (Traditional)</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;944</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Event Planning &amp; Services</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;871</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Home Services</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;827</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;American (New)</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;827</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Breakfast &amp; Brunch</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;748</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Hotels &amp; Travel</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;646</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Health &amp; Medical</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;584</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Mexican</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;581</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Sandwiches</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;574</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Automotive</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;563</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Italian</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;561</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Pizza</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;560</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Burgers</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;513</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Arts &amp; Entertainment</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;494</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Local Services</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;486</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Coffee &amp; Tea</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;480</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Seafood</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;434</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Active Life</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;406</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Hotels</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;386</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Chinese</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;386</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Japanese</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;367</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Hair Salons</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;364</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Fast Food</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;355</span></p></td></tr><tr class="c2"><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;Desserts</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c10"><span class="c6 c1">&nbsp;352</span></p></td></tr></table><p class="c5 c8"><span class="c6 c1"></span></p><p class="c5 c8"><span class="c6 c1"></span></p><p class="c5"><span class="c6 c1">Table 5. Number of occurrences of some business keywords in the first reviews</span></p><a id="t.155a39993c0aa24bedcc41153eeb43c6aed66b85"></a><a id="t.4"></a><table class="c16"><tr class="c2"><td class="c11" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">Business Keyword</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">Number of occurrences in First Review</span></p></td></tr><tr class="c2"><td class="c11" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">restaurants</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">9063</span></p></td></tr><tr class="c2"><td class="c11" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">services</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">3335</span></p></td></tr><tr class="c2"><td class="c11" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">bars</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">3191</span></p></td></tr><tr class="c2"><td class="c11" colspan="1" rowspan="1"><p class="c5"><span class="c6 c1">hotels</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c9"><span class="c6 c1">1302</span></p></td></tr></table><p class="c5 c8"><span class="c6 c1"></span></p><p class="c5 c8"><span class="c4 c1"></span></p><hr style="page-break-before:always;display:none;"><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c12 c18">Appendix 2. SQLite Code</span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c4 c1">-- total distinct user count</span></p><p class="c5"><span class="c4 c1">SELECT COUNT(DISTINCT user_id)</span></p><p class="c5"><span class="c4 c1">FROM user;</span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c4 c1">-- total distinct business count</span></p><p class="c5"><span class="c4 c1">SELECT COUNT(DISTINCT business_id)</span></p><p class="c5"><span class="c4 c1">FROM business;</span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c4 c1">-- total distinct review count</span></p><p class="c5"><span class="c4 c1">SELECT COUNT(DISTINCT review_id)</span></p><p class="c5"><span class="c4 c1">FROM review;</span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c4 c1">-- total distinct reviewer count</span></p><p class="c5"><span class="c4 c1">SELECT COUNT(DISTINCT user_id)</span></p><p class="c5"><span class="c4 c1">&nbsp;FROM review;</span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c4 c1">-- active user count (users who have posted reviews in 2017)</span></p><p class="c5"><span class="c4 c1">SELECT COUNT(DISTINCT user_id)</span></p><p class="c5"><span class="c4 c1">FROM review</span></p><p class="c5"><span class="c4 c1">WHERE substr(date, 1, 4) = &#39;2017&#39;;</span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c4 c1">-- calculate review per business</span></p><p class="c5"><span class="c4 c1">CREATE TEMPORARY TABLE review_business AS SELECT business_id,</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; count( * ) AS freq</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;FROM review</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GROUP BY business_id;</span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c4 c1">SELECT MAX(freq),</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; MIN(freq),</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; AVG(freq)</span></p><p class="c5"><span class="c4 c1">&nbsp;FROM review_business;</span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c1">-- top five city with </span><span class="c1">the highest number of businesses</span></p><p class="c5"><span class="c4 c1">SELECT city,</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; count( * ) AS cout_of_business</span></p><p class="c5"><span class="c4 c1">&nbsp;FROM business</span></p><p class="c5"><span class="c4 c1">GROUP BY city</span></p><p class="c5"><span class="c4 c1">ORDER BY cout_of_business DESC</span></p><p class="c5"><span class="c4 c1">LIMIT 5;</span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c4 c1">-- how many new user we have each year</span></p><p class="c5"><span class="c4 c1">SELECT substr(yelping_since, 1, 4) AS year, count(*) AS NumNewUser</span></p><p class="c5"><span class="c4 c1">FROM user</span></p><p class="c5"><span class="c4 c1">GROUP BY year;</span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c4 c1">-- how many reviews we have each year</span></p><p class="c5"><span class="c4 c1">SELECT substr(date, 1, 4) AS year, count(*) AS NumReview</span></p><p class="c5"><span class="c4 c1">FROM review</span></p><p class="c5"><span class="c4 c1">GROUP BY year;</span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c4 c1">-- presenting the above two in one table</span></p><p class="c5"><span class="c4 c1">SELECT *</span></p><p class="c5"><span class="c4 c1">FROM</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;(SELECT substr(yelping_since, 1, 4) as year</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;FROM user</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;UNION</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;SELECT substr(date, 1, 4)</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;FROM review)</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;LEFT JOIN</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;(SELECT substr(yelping_since, 1, 4) AS year, count(*) AS NumNewUser</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;FROM user</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;GROUP BY year) AS T1</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;USING (&#39;year&#39;)</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;LEFT JOIN</span></p><p class="c5"><span class="c1 c4">&nbsp; &nbsp;(SELECT substr(date, 1, 4) AS year, count(*) AS NumReview</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;FROM review</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;GROUP BY year) AS T2</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;USING (&#39;year&#39;);</span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c4 c1">-- first review from each user</span></p><p class="c5"><span class="c4 c1">SELECT *</span></p><p class="c5"><span class="c4 c1">FROM review</span></p><p class="c5"><span class="c4 c1">INNER JOIN</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;(SELECT user_id, MAX(date) AS first_date</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;FROM review</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;GROUP BY user_id) AS A</span></p><p class="c5"><span class="c4 c1">ON review.user_id = A.user_id</span></p><p class="c5"><span class="c4 c1">AND review.date = A.first_date;</span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c4 c1">-- first review from each user joining business information</span></p><p class="c5"><span class="c4 c1">SELECT *</span></p><p class="c5"><span class="c4 c1">FROM (SELECT *</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;FROM review</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;INNER JOIN</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp;(SELECT user_id, MAX(date) AS first_date</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; FROM review</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; GROUP BY user_id) AS A</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;ON review.user_id = A.user_id</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;AND review.date = A.first_date)</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;LEFT JOIN business USING (&quot;business_id&quot;);</span></p><p class="c5"><span class="c4 c1">&nbsp; </span></p><p class="c5"><span class="c4 c1">-- what rating (star) does the first review give? What are the average stars for the business receiving the new comments?</span></p><p class="c5"><span class="c4 c1">SELECT FR.stars, count(*) AS frequency, ROUND(AVG(business.stars), 2) AS avg_business_stars</span></p><p class="c5"><span class="c4 c1">FROM (SELECT *</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;FROM review</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;INNER JOIN</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp;(SELECT user_id, MAX(date) AS first_date</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; FROM review</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; GROUP BY user_id) AS A</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;ON review.user_id = A.user_id</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;AND review.date = A.first_date) AS FR</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;LEFT JOIN business USING (&quot;business_id&quot;)</span></p><p class="c5"><span class="c4 c1">GROUP BY FR.stars</span></p><p class="c5"><span class="c4 c1">ORDER BY FR.stars;</span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c4 c1">-- which business attracts more new users to leave the first comment?</span></p><p class="c5"><span class="c4 c1">SELECT FR.business_id, count(*) AS frequency, B.stars, B.categories</span></p><p class="c5"><span class="c4 c1">FROM (SELECT *</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;FROM review</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;INNER JOIN</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp;(SELECT user_id, MAX(date) AS first_date</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; FROM review</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; GROUP BY user_id) AS A</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;ON review.user_id = A.user_id</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;AND review.date = A.first_date) AS FR</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;LEFT JOIN business AS B USING (&quot;business_id&quot;)</span></p><p class="c5"><span class="c4 c1">GROUP BY FR.business_id</span></p><p class="c5"><span class="c4 c1">ORDER BY frequency DESC;</span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c1">-- </span><span class="c1 c12">number of occurrences of some business keyword in the first reviews</span><span class="c4 c1">&nbsp;</span></p><p class="c5"><span class="c4 c1">CREATE TEMPORARY TABLE T1 AS SELECT FR.business_id,</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;count( * ) AS frequency,</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;B.stars,</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;B.categories</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FROM (</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SELECT *</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;FROM review</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; INNER JOIN</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SELECT user_id,</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;MAX(date) AS first_date</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FROM review</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;GROUP BY user_id</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AS A ON review.user_id = A.user_id AND</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; review.date = A.first_date</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;)</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;AS FR</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LEFT JOIN</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;business AS B USING (</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;business_id</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;)</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;GROUP BY FR.business_id</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ORDER BY frequency DESC;</span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c4 c1">SELECT sum(frequency) AS occur_restaurants</span></p><p class="c5"><span class="c4 c1">&nbsp;FROM T1</span></p><p class="c5"><span class="c4 c1">WHERE categories LIKE &#39;%restaurants%&#39;;</span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c4 c1">SELECT sum(frequency) AS occur_services</span></p><p class="c5"><span class="c4 c1">&nbsp;FROM T1</span></p><p class="c5"><span class="c4 c1">WHERE categories LIKE &#39;%services%&#39;;</span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c4 c1">SELECT sum(frequency) AS occur_bars</span></p><p class="c5"><span class="c4 c1">&nbsp;FROM T1</span></p><p class="c5"><span class="c4 c1">WHERE categories LIKE &#39;%bars%&#39;;</span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c4 c1">SELECT sum(frequency) AS occur_hotels</span></p><p class="c5"><span class="c4 c1">&nbsp;FROM T1</span></p><p class="c5"><span class="c4 c1">WHERE categories LIKE &#39;%hotels%&#39;;</span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5 c8"><span class="c4 c1"></span></p><p class="c5"><span class="c4 c1">-- business category keyword occurrence </span></p><p class="c5"><span class="c4 c1">SELECT word, COUNT(*) AS frequency</span></p><p class="c5"><span class="c4 c1">FROM(WITH split(word, csv) AS</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;(</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;SELECT</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;-- in final WHERE, we filter raw csv (1st row) and terminal &#39;,&#39; (last row)</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;&#39;&#39;,</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;-- here you can SELECT FROM e.g. another table: col_name||&#39;,&#39; FROM X</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;(SELECT GROUP_CONCAT(categories, &#39;,&#39;)</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp;FROM</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp;(SELECT FR.business_id, count(*) AS frequency, B.categories</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp;FROM (SELECT *</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;FROM review</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;INNER JOIN (SELECT user_id, MAX(date) AS first_date</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;FROM review</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;GROUP BY user_id) AS A</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ON review.user_id = A.user_id AND review.date = A.first_date) AS FR</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LEFT JOIN business AS B USING (&quot;business_id&quot;)</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;GROUP BY FR.business_id)</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;)||&#39;,&#39; -- terminate with &#39;,&#39; indicating csv ending</span></p><p class="c5"><span class="c4 c1">&nbsp;-- &#39;recursive query&#39;</span></p><p class="c5"><span class="c4 c1">&nbsp;UNION ALL SELECT</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;substr(csv, 0, instr(csv, &#39;,&#39;)), -- each word contains text up to next &#39;,&#39;</span></p><p class="c5"><span class="c4 c1">&nbsp; &nbsp;substr(csv, instr(csv, &#39;,&#39;) + 1) -- next recursion parses csv after this &#39;,&#39;</span></p><p class="c5"><span class="c4 c1">&nbsp;FROM split -- recurse</span></p><p class="c5"><span class="c4 c1">&nbsp;WHERE csv != &#39;&#39; -- break recursion once no more csv words exist</span></p><p class="c5"><span class="c4 c1">) SELECT word FROM split</span></p><p class="c5"><span class="c4 c1">WHERE word!=&#39;&#39;)</span></p><p class="c5"><span class="c4 c1">GROUP BY word</span></p><p class="c5"><span class="c4 c1">ORDER BY frequency DESC;</span></p><div><p class="c5 c8"><span class="c4 c20"></span></p></div><hr class="c22"><div><p class="c10"><a href="#ftnt_ref1" id="ftnt1">[1]</a><span class="c1 c15">&nbsp;</span><span class="c1 c15">Appendix: Table 1 shows the top five cities with the highest number of businesses.</span></p></div><div><p class="c10"><a href="#ftnt_ref2" id="ftnt2">[2]</a><span class="c1 c13">&nbsp;Appendix: Table 2 shows the number of new users and reviews each year.</span></p></div><div><p class="c10"><a href="#ftnt_ref3" id="ftnt3">[3]</a><span class="c1 c15">&nbsp;Appendix: Table 3 shows </span><span class="c1 c15">the number of first reviews according to the number of stars awarded.</span></p></div><div><p class="c10"><a href="#ftnt_ref4" id="ftnt4">[4]</a><span class="c13 c1">&nbsp;Appendix: Table 4 shows the top 30 business categories for business receiving first reviews.</span></p></div><div><p class="c10"><a href="#ftnt_ref5" id="ftnt5">[5]</a><span class="c13 c1">&nbsp;Appendix: Table 5 shows the number of occurrences of some business keywords in the first reviews.</span></p></div></body></html>